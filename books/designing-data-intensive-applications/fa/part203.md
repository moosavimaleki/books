ایده پشت ذخیره‌سازی ستون‌محور (column-oriented storage) ساده است: تمام مقادیر یک سطر را با هم ذخیره نکنید، بلکه در عوض تمام مقادیر هر ستون را با هم ذخیره کنید. اگر هر ستون در یک فایل جداگانه ذخیره شود، یک پرس‌وجو فقط نیاز دارد آن ستون‌هایی را که در آن پرس‌وجو استفاده می‌شوند، بخواند و تجزیه کند، که می‌تواند کار زیادی را صرفه‌جویی کند. این اصل در [شکل 3-10](#fig_column_store) نشان داده شده است.

###### نکته
ذخیره‌سازی ستونی در یک مدل داده رابطه‌ای آسان‌تر قابل درک است، اما به طور یکسان برای داده‌های غیررابطه‌ای نیز کاربرد دارد. به عنوان مثال، Parquet [[57](ch03.html#LeDem2013wc)] یک قالب ذخیره‌سازی ستونی است که از مدل داده سندی پشتیبانی می‌کند، بر اساس Dremel گوگل [[54](ch03.html#Melnik2010up)].

![ddia 0310](assets/ddia_0310.png)

###### شکل 3-10. ذخیره‌سازی داده‌های رابطه‌ای بر اساس ستون، به جای سطر. طرح‌بندی ذخیره‌سازی ستون‌محور متکی بر این است که هر فایل ستون، سطرها را به همان ترتیب داشته باشد.

بنابراین، اگر نیاز به بازسازی یک سطر کامل دارید، می‌توانید ورودی بیست و سوم را از هر یک از فایل‌های ستون جداگانه بگیرید و آن‌ها را با هم ترکیب کنید تا سطر بیست و سوم جدول را تشکیل دهید.