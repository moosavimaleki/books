اگر می‌خواهید مقدار یک کلید موجود در B-tree را به‌روزرسانی کنید، صفحه برگی را که حاوی آن کلید است جستجو می‌کنید، مقدار را در آن صفحه تغییر می‌دهید و صفحه را دوباره روی دیسک می‌نویسید (هر ارجاعی به آن صفحه همچنان معتبر می‌ماند). اگر می‌خواهید کلید جدیدی اضافه کنید، باید صفحه‌ای را پیدا کنید که محدوده آن شامل کلید جدید می‌شود و آن را به آن صفحه اضافه کنید. اگر فضای آزاد کافی در صفحه برای گنجاندن کلید جدید وجود نداشته باشد، صفحه به دو صفحه نیمه‌پر تقسیم می‌شود و صفحه والد برای در نظر گرفتن تقسیم‌بندی جدید محدوده‌های کلید به‌روزرسانی می‌شود - به [شکل 3-7](#fig_storage_b_tree_split) مراجعه کنید.[ii](ch03.html#idm140605778235856) ![ddia 0307](assets/ddia_0307.png) ###### شکل 3-7. رشد یک B-tree با تقسیم یک صفحه. این الگوریتم اطمینان می‌دهد که درخت متوازن باقی می‌ماند: یک B-tree با n کلید همیشه عمقی از O(log n) دارد. اکثر پایگاه‌های داده می‌توانند در یک B-tree با عمق سه یا چهار سطح جای بگیرند، بنابراین شما نیازی به دنبال کردن ارجاع‌های صفحه زیادی برای یافتن صفحه مورد نظر خود ندارید. (یک درخت چهار سطحی با صفحات 4 کیلوبایتی و فاکتور انشعاب 500 می‌تواند تا 256 ترابایت را ذخیره کند.)% 