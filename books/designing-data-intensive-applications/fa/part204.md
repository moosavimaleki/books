## فشرده‌سازی ستون

علاوه بر بارگذاری فقط آن ستون‌هایی از دیسک که برای یک پرس‌وجو مورد نیاز هستند، می‌توانیم با فشرده‌سازی داده‌ها، نیازهای توان عملیاتی دیسک را بیشتر کاهش دهیم. خوشبختانه، ذخیره‌سازی ستون‌محور اغلب خود را بسیار خوب برای فشرده‌سازی مناسب می‌سازد.

نگاهی به توالی‌های مقادیر برای هر ستون در [شکل 3-10](#fig_column_store) بیندازید: آن‌ها اغلب بسیار تکراری به نظر می‌رسند، که نشانه خوبی برای فشرده‌سازی است. بسته به داده‌های موجود در ستون، تکنیک‌های فشرده‌سازی مختلفی می‌توان استفاده کرد. یک تکنیک که به طور خاص در انبارهای داده مؤثر است، رمزگذاری بیت‌مپ (bitmap encoding) است که در [شکل 3-11](#fig_bitmap_index) نشان داده شده است.

![ddia 0311](assets/ddia_0311.png)

###### شکل 3-11. ذخیره‌سازی فشرده و شاخص‌گذاری شده با بیت‌مپ از یک ستون واحد.

اغلب، تعداد مقادیر متمایز در یک ستون در مقایسه با تعداد سطرها کوچک است (به عنوان مثال، یک خرده‌فروش ممکن است میلیاردها تراکنش فروش داشته باشد، اما فقط 100,000 محصول متمایز). ما اکنون می‌توانیم یک ستون با n مقدار متمایز را به n بیت‌مپ جداگانه تبدیل کنیم: یک بیت‌مپ برای هر مقدار متمایز، با یک بیت برای هر سطر. بیت 1 است اگر سطر آن مقدار را داشته باشد، و 0 اگر نداشته باشد.