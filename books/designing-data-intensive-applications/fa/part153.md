## شاخص‌های هش

بیایید با شاخص‌ها برای داده‌های کلید-مقدار شروع کنیم. این تنها نوع داده‌ای نیست که می‌توانید شاخص‌گذاری کنید، اما بسیار رایج است، و یک بلوک ساختمانی مفید برای شاخص‌های پیچیده‌تر است.

فروشگاه‌های کلید-مقدار بسیار شبیه به نوع دیکشنری هستند که می‌توانید در اکثر زبان‌های برنامه‌نویسی پیدا کنید، و معمولاً به عنوان یک نقشه هش (جدول هش) پیاده‌سازی می‌شوند. نقشه‌های هش در بسیاری از کتاب‌های درسی الگوریتم‌ها توصیف شده‌اند [[1](ch03.html#Aho1983vj)، [2](ch03.html#Cormen2009uw)]، بنابراین ما در اینجا به جزئیات نحوه کار آنها نمی‌پردازیم. از آنجا که ما قبلاً نقشه‌های هش را برای ساختارهای داده در حافظه خود داریم، چرا از آنها برای شاخص‌گذاری داده‌های خود روی دیسک استفاده نکنیم؟

فرض کنید ذخیره‌سازی داده ما فقط شامل اضافه کردن به یک فایل است، مانند مثال قبلی. سپس ساده‌ترین استراتژی شاخص‌گذاری ممکن این است: یک نقشه هش در حافظه نگه دارید که در آن هر کلید به یک آفست بایت در فایل داده نگاشت می‌شود—مکانی که در آن مقدار را می‌توان یافت، همانطور که در [شکل 3-1](#fig_storage_csv_hash_index) نشان داده شده است. هر زمان که یک جفت کلید-مقدار جدید را به فایل اضافه می‌کنید، نقشه هش را نیز به‌روزرسانی می‌کنید تا آفست داده‌ای را که تازه نوشته‌اید منعکس کند (این هم برای درج کلیدهای جدید و هم برای به‌روزرسانی کلیدهای موجود کار می‌کند). وقتی می‌خواهید یک مقدار را جستجو کنید، از نقشه هش برای یافتن آفست در فایل داده استفاده کنید، به آن مکان بروید، و مقدار را بخوانید. 