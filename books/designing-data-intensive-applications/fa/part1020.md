### حفظ وضعیت مشتق شده

پردازش دسته‌ای طعم تابعی نسبتاً قوی دارد (حتی اگر کد در یک زبان برنامه‌نویسی تابعی نوشته نشده باشد): آن توابع قطعی و خالص را تشویق می‌کند که خروجی آنها فقط به ورودی بستگی دارد و هیچ اثر جانبی به جز خروجی‌های صریح ندارند، ورودی‌ها را به عنوان تغییرناپذیر و خروجی‌ها را به عنوان فقط-افزودنی در نظر می‌گیرند. پردازش جریانی مشابه است، اما عملگرها را گسترش می‌دهد تا وضعیت مدیریت شده و مقاوم در برابر خطا را امکان‌پذیر سازد (به ["بازسازی وضعیت پس از خرابی"](ch11.html#sec_stream_state_fault_tolerance) مراجعه کنید).

اصل توابع قطعی با ورودی‌ها و خروجی‌های به خوبی تعریف شده نه تنها برای تحمل خطا خوب است (به ["تکرارناپذیری"](ch11.html#sec_stream_idempotence) مراجعه کنید)، بلکه استدلال در مورد جریان‌های داده در یک سازمان را نیز ساده می‌کند [[7](ch12.html#Kreps2013vs_ch12)]. صرف نظر از اینکه داده مشتق شده یک شاخص جستجو، یک مدل آماری یا یک کش باشد، فکر کردن در قالب خط لوله‌های داده که یک چیز را از چیز دیگری مشتق می‌کنند، فشار دادن تغییرات وضعیت در یک سیستم از طریق کد کاربردی تابعی و اعمال اثرات به سیستم‌های مشتق شده مفید است.