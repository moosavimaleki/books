همانطور که در ["ساخت یک درخت LSM از SSTables"](#sec_storage_lsm_usage) ذکر شد، Lucene از یک ساختار شبیه به SSTable برای
فرهنگ اصطلاحات خود استفاده می‌کند. این ساختار نیاز به یک شاخص درون حافظه کوچک دارد که به پرس‌وجوها می‌گوید در چه آفستی در
فایل مرتب شده باید به دنبال یک کلید بگردند. در LevelDB، این شاخص درون حافظه یک مجموعه پراکنده
از برخی کلیدها است، اما در Lucene، شاخص درون حافظه یک اتوماتون حالت محدود روی
کاراکترهای کلیدها است، مشابه یک درخت تری
[[38](ch03.html#Heinz2002hh)].
این اتوماتون می‌تواند به یک اتوماتون لونشتاین تبدیل شود، که جستجوی کارآمد
برای کلمات در یک فاصله ویرایشی معین را پشتیبانی می‌کند
[[39](ch03.html#Schulz2002jt)]. سایر تکنیک‌های جستجوی فازی در جهت طبقه‌بندی اسناد و یادگیری ماشین می‌روند.
برای جزئیات بیشتر به یک کتاب درسی بازیابی اطلاعات مراجعه کنید
[به عنوان مثال، [40](ch03.html#Manning2008vf)]. ### نگه داشتن همه چیز در حافظه 
ساختارهای داده‌ای که تاکنون در این فصل بحث شده‌اند همگی پاسخ‌هایی به محدودیت‌های
دیسک‌ها بوده‌اند. در مقایسه با حافظه اصلی، کار کردن با دیسک‌ها دشوار است. هم با دیسک‌های مغناطیسی و هم با SSDها،
داده‌ها روی دیسک باید با دقت چیده شوند اگر می‌خواهید عملکرد خوبی در خواندن‌ها و نوشتن‌ها داشته باشید.
با این حال، ما این دشواری را تحمل می‌کنیم زیرا دیسک‌ها دو مزیت قابل توجه دارند: آنها
بادوام هستند (محتویات آنها در صورت قطع برق از بین نمی‌رود)، و هزینه کمتری به ازای هر
گیگابایت نسبت به RAM دارند.