همانطور که در ["ساختن یک درخت LSM از SSTables"](#sec_storage_lsm_usage) ذکر شد، Lucene از ساختاری شبیه به SSTable برای فرهنگ اصطلاحات خود استفاده می‌کند. این ساختار نیاز به یک ایندکس کوچک در حافظه دارد که به پرس‌وجوها می‌گوید در کدام آفست در فایل مرتب‌شده باید به دنبال یک کلید بگردند. در LevelDB، این ایندکس در حافظه مجموعه‌ای پراکنده از برخی کلیدهاست، اما در Lucene، ایندکس در حافظه یک اتوماتای حالت محدود (finite state automaton) روی کاراکترهای کلیدهاست، مشابه یک درخت تری (trie) [[38](ch03.html#Heinz2002hh)].

این اتوماتا می‌تواند به یک اتوماتای لونشتاین (Levenshtein automaton) تبدیل شود، که جستجوی کارآمد کلمات در یک فاصله ویرایشی معین را پشتیبانی می‌کند [[39](ch03.html#Schulz2002jt)]. تکنیک‌های دیگر جستجوی فازی در جهت طبقه‌بندی اسناد و یادگیری ماشین می‌روند. برای جزئیات بیشتر به یک کتاب درسی بازیابی اطلاعات مراجعه کنید [به عنوان مثال، [40](ch03.html#Manning2008vf)].

### نگه داشتن همه چیز در حافظه

ساختارهای داده‌ای که تا کنون در این فصل مورد بحث قرار گرفتند همگی پاسخ‌هایی به محدودیت‌های دیسک‌ها بوده‌اند. در مقایسه با حافظه اصلی، کار کردن با دیسک‌ها دشوار است. هم با دیسک‌های مغناطیسی و هم با SSDها، داده روی دیسک باید با دقت چیده شود اگر می‌خواهید عملکرد خوبی در خواندن‌ها و نوشتن‌ها داشته باشید. با این حال، ما این دشواری را تحمل می‌کنیم زیرا دیسک‌ها دو مزیت قابل توجه دارند: آنها بادوام هستند (محتوای آنها در صورت قطع برق از بین نمی‌رود)، و هزینه کمتری به ازای هر گیگابایت نسبت به RAM دارند.% 