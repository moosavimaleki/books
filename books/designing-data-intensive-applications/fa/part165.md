### ساخت یک درخت LSM از SSTable‌ها

الگوریتم توصیف شده در اینجا اساساً همان چیزی است که در LevelDB [[6](ch03.html#LevelDB2014)] و RocksDB [[7](ch03.html#Borthakur2013uc)]، کتابخانه‌های موتور ذخیره‌سازی کلید-مقدار که برای جاسازی در برنامه‌های دیگر طراحی شده‌اند، استفاده می‌شود. از جمله چیزهای دیگر، LevelDB می‌تواند در Riak به عنوان جایگزینی برای Bitcask استفاده شود.

موتورهای ذخیره‌سازی مشابه در Cassandra و HBase [[8](ch03.html#Bertozzi2012wu)] استفاده می‌شوند، که هر دو از مقاله Bigtable گوگل [[9](ch03.html#Chang2006ta_ch3)] (که اصطلاحات SSTable و memtable را معرفی کرد) الهام گرفته‌اند. در اصل این ساختار شاخص‌گذاری توسط پاتریک اونیل و همکاران تحت نام درخت ادغام با ساختار لاگ (یا درخت LSM) [[10](ch03.html#ONeil1996iq)] توصیف شد، که بر اساس کار قبلی روی سیستم‌های فایل با ساختار لاگ [[11](ch03.html#Rosenblum1992dr)] ساخته شده بود.

موتورهای ذخیره‌سازی که بر اساس این اصل ادغام و فشرده‌سازی فایل‌های مرتب شده هستند، اغلب موتورهای ذخیره‌سازی LSM نامیده می‌شوند.

Lucene، یک موتور شاخص‌گذاری برای جستجوی متن کامل که توسط Elasticsearch و Solr استفاده می‌شود، از روش مشابهی برای ذخیره فرهنگ اصطلاحات خود استفاده می‌کند [[12](ch03.html#Grand2013ws)، [13](ch03.html#Kandepet2011uy)]. یک شاخص متن کامل بسیار پیچیده‌تر از یک شاخص کلید-مقدار است اما بر اساس ایده مشابهی است: با توجه به یک کلمه در یک پرس‌وجوی جستجو، تمام اسناد (صفحات وب، توضیحات محصول و غیره) را که آن کلمه را ذکر می‌کنند، پیدا کنید. این با یک ساختار کلید-مقدار پیاده‌سازی می‌شود که در آن کلید یک کلمه (یک اصطلاح) است و مقدار لیست شناسه‌های تمام اسنادی است که حاوی آن کلمه هستند (لیست پست‌ها).

در Lucene، این نگاشت از اصطلاح به لیست پست‌ها در فایل‌های مرتب شده شبیه به SSTable نگهداری می‌شود، که در صورت نیاز در پس‌زمینه ادغام می‌شوند [[14](ch03.html#McCandless2011vt)]. 