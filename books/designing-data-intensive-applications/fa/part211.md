خوشبختانه، ما قبلاً در این فصل یک راه‌حل خوب دیده‌ایم: درخت‌های LSM. تمام نوشته‌ها ابتدا به یک حافظه درون‌برنامه‌ای می‌روند، جایی که به یک ساختار مرتب‌شده اضافه می‌شوند و برای نوشتن روی دیسک آماده می‌شوند. مهم نیست که حافظه درون‌برنامه‌ای سطر-محور باشد یا ستون-محور. وقتی نوشته‌های کافی جمع شدند، با فایل‌های ستونی روی دیسک ادغام می‌شوند و به صورت یکجا در فایل‌های جدید نوشته می‌شوند. این اساساً همان کاری است که Vertica انجام می‌دهد
[[62](ch03.html#Lamb2012ub)]. پرس‌وجوها باید هم داده‌های ستونی روی دیسک و هم نوشته‌های اخیر در حافظه را بررسی کنند و این دو را با هم ترکیب کنند. با این حال، بهینه‌ساز پرس‌وجو این تمایز را از کاربر پنهان می‌کند. از دیدگاه یک تحلیلگر، داده‌هایی که با درج، به‌روزرسانی یا حذف تغییر کرده‌اند، بلافاصله در پرس‌وجوهای بعدی منعکس می‌شوند.

## تجمیع: مکعب‌های داده و نماهای مادی‌سازی شده 

هر انباره داده لزوماً یک ذخیره‌سازی ستونی نیست: پایگاه‌های داده سنتی سطر-محور و چند معماری دیگر نیز استفاده می‌شوند. با این حال، ذخیره‌سازی ستونی می‌تواند برای پرس‌وجوهای تحلیلی موردی به طور قابل توجهی سریع‌تر باشد، بنابراین به سرعت در حال کسب محبوبیت است
[[51](ch03.html#OneSizeFitsNone2013vw),
[63](ch03.html#LeDem2014tl)].