![An illustration of containers.](graphics/16fig03.jpg) Figure 16.3 Containers on top of a container runtime engine on top of an operating system on top of a hypervisor (or bare metal) A figure shows the structure of containers. A large block is displayed. The containers such as container 1, container 2, and container 3 are shown inside the block. The hypervisor or bare metal is shown inside the block at the bottom. The operating system is shown inside the block at the bottom above the hypervisor. The container runtime engine is shown inside the block at the bottom above the operating system. VMs are allocated by locating a physical machine that has sufficient unused resources to support an additional VM. This is done, conceptually, by querying the hypervisors to find one with spare capacity. Containers are allocated by finding a container runtime engine that has sufficient unused resources to support an additional container. This may, in turn, require the creation of an additional VM to support an additional container runtime engine. [Figure 16.3](ch16.xhtml#ch16fig03) depicts containers running on a container runtime engine running on an operating system running in a VM under the control of a hypervisor.