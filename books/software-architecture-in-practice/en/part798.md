[Figure 23.3](ch23.xhtml#ch23fig03) is a DSM based on files in Apache Cassandra—a widely used NoSQL database. It shows an example of a clique (a cycle of dependencies). In this DSM, you can see that the file on row 8 (locator.AbstractReplicationStrategy) depends on file 4 (service.WriteResponseHandler) and aggregates file 5 (locator.TokenMetadata). Files 4 and 5, in turn, depend on file 8, thus forming a clique. ![An example clique is illustrated.](graphics/23fig03.jpg) Figure 23.3 An example of a clique A figure shows a pattern of the clique. The matrix contains 18 rows and 18 columns. The rows represent different files. Dependencies are marked in several cells. The values in the cells 8, 4; 8, 5; 4, 8; and 5, 8 encircled. The value in the cell 7, 6 is squared. A second example from Cassandra demonstrates the unhealthy inheritance anti-pattern. The DSM in [Figure 23.4](ch23.xhtml#ch23fig04) shows the io.sstable.SSTableReader class (row 14) inheriting from io.sstable.SSTable (row 12). The inheritance relationship is indicated in the DSM by the “ih” notation. Note, however, that io.sstable.SSTable depends on io.sstable.SSTableReader, as indicated by the “dp” annotation in cell (12, 14). This dependency is a calling relation, which means that the parent class calls the child class. Note that the cells (12, 14) and (14, 12) are both annotated with the number 68. This represents the number of times that io.sstable.SSTable and io.sstable.SSTableReader were co-committed in changes, according to the project’s revision history. This excessively high number of co-changes is a form of debt. This debt can be removed by refactoring—that is, by moving some functionality from the child class to the parent.