![A flowchart depicts the rolling upgrade pattern.](graphics/05fig04.jpg) Figure 5.4 A flowchart of the rolling upgrade pattern as implemented by Netflix’s Asgard tool The rolling upgrade pattern is presented as a flowchart. The steps are as follows: update auto-scaling group (ASG), sort instances, confirm upgrade spec, remove and de-register old instance from the elastic load balancer, terminate old instance, wait for ASG to start new instance, register new instance with elastic load balancer, and back to remove and de-register old instance from the elastic load balancer. Benefits: *  The benefit of these patterns is the ability to completely replace deployed versions of services without having to take the system out of service, thus increasing the system’s availability. Tradeoffs: *  The peak resource utilization for a blue/green approach is 2N instances, whereas the peak utilization for a rolling upgrade is N + 1 instances. In either case, resources to host these instances must be procured. Before the widespread adoption of cloud computing, procurement meant purchase: An organization had to purchase physical computers to perform the upgrade. Most of the time there was no upgrade in progress, so these additional computers largely sat idle. This made the financial tradeoff clear, and rolling upgrade was the standard approach. Now that computing resources can be rented on an as-needed basis, rather than purchased, the financial tradeoff is less compelling but still present.