So far, our discussion of load balancers has focused on increasing the amount of work that can be handled. Here, we will consider how load balancers also serve to increase the availability of services. [Figure 17.4](ch17.xhtml#ch17fig04) shows messages from clients passing through the load balancer, but does not show the return messages. Return messages go directly from the service instances to the service identified in the “from” field in the IP message header), Typically, this bypasses the load balancer although in some configurations the return may go to the load balancer. In the situation where the load balancer is bypassed, it has no information about whether a message was processed by a service instance, or how long it took to process a message. Without additional mechanisms, the load balancer would not know whether any service instance was alive and processing, or if any instance or all instances had failed. Health checks are a mechanism that allow the load balancer to determine whether an instance is performing properly. This is the purpose of the “fault detection” category of availability tactics from [Chapter 4](ch04.xhtml#ch04). The load balancer will periodically check the health of the instances assigned to it. If an instance fails to respond to a health check, it is marked as unhealthy and no further messages are sent to it. Health checks can consist of pings from the load balancer to the instance, opening a TCP connection to the instance or even sending a message for processing. In the latter case, the return IP address is the address of the load balancer.